<html>
<head>
<title>Freemap - About</title>
<link rel='stylesheet' type='text/css' href='css/style.css' />
</head>
<body> 
<div id='content'>
<h1>What is Freemap?</h1>
<hr />
<p><em>Freemap</em> is a project to create free and
annotatable maps of the UK countryside, using 
<a href='http://www.openstreetmap.org'>OpenStreetMap</a> data to create the
maps. Freemap maps aim to show not only the official rights of way, but 
all paths with public access, many of which are missing on other maps.</p>
<p>
<ul>
<li><a href='#mapkey'>Map key</a></li>
<li><a href='#interactive'>Using Freemap's interactive features</a> - how
to annotate the map and create walking routes.</li>
<li><a href='#new'>New features</a> (April 2017)</li>
<li><a href='#norender'>The map isn't showing! Why?</a></li>
<li><a href='#limitations'>Limitations</a></li>
<li><a href='#technical'>History and technical details</a></li>
<li><a href='#source'>Source code</a></li>
<li><a href='../common/otherstuff.html'>Other software</a>
hosted on this server and available for download.</li>
<li><a href='/index.php'>Back to map</a></li>
</ul>
<h2 id='mapkey'>Map key</h2>
The following diagram (based on a previous version, but
the current version of Freemap is to all intents and purposes identical)
shows the colour scheme for different types of path
(permissive footpaths, not shown here, are light blue):
</p>
<p><img src="images/fmapkey.png" alt="Freemap key" /></p>
<p>
The maps consist of two layers. The top layer (coloured) shows the routes
with public access, as shown above.
The lower layer (black and white) gives an indication
of the path's physical condition, for example whether it's a dirt path, a
track, or a farm access road. The second diagram shows examples of the lower
layer, and also shows a permissive footpath:</p>
<p><img src="images/fmapkey2.png" alt="Freemap key - physical layer" /></p>
<p>Note how some paths and tracks have no coloured overlay. These are paths
and tracks for which walkers' rights are unknown, i.e. it is not known whether
they are walkable or private. Also note the public footpath in the top 
centre of the map, and how its southern end follows a farm access road and
its northern end follows a track.</p>
<h2 id='interactive'>Using Freemap's interactive features</h2>
<p>Freemap maps are <em>interactive</em> and allow you to:
    <ul>
    <li>Add notes to the map, for example share footpath problems or
	provide directions where this might be unclear;</li>
    <li>Draw your own <em>walk route</em> and automatically
    get a description of it, ready to take on a walk. 
    Currently walk routes are available as GPX.</li>
    </ul>
How to do all this is described below.</p>
<h3>Adding notes</h3>
<p>You need to login to add notes, so please
<a href='user.php?action=signup'>sign up</a> for an account!</p>
<p>You can share notes by adding them  
to the map, for example, problems
(mud, barbed wire fence, mad cows etc....) or provide directions where the
course of the footpath might be unclear.</p>
<p>When logged in, select the "marker" icon from the toolbar, 
click on the map at the position where you want to add the annotation.
Add your text and click OK.
</p>
<h4>Viewing</h4>
<p>When the map is loaded, you'll see existing notes as markers (exclamation
marks on a red or brown background).
You can simply click on one to see the note.</p> 
<h3>Walking routes</h3>
<p>Freemap also allows you to create and share <em>walk routes</em>.
Once logged in, select "Walk route" mode and then:
    <ul>
    <li>Select the "Draw walk route" option from the toolbar,
	and draw your route on the map;</li>
    <li>You can then add descriptions to the walk route. Select the 
    marker icon from the toolbar option and drag the marker to your walk route 
	at the appropriate place. You will be asked to enter a description. 
	Make sure the "Add to walk route" checkbox is selected.
    </li>
    </ul>
</p>
<p>The walking route will be 
downloadable from the site. When logged in, you can select "My routes" to
see all your routes, and the start of walking routes are shown on the map
as foot icons. Routes are currently available for download in GPX format,
so they can be imported into a GPS device.</p>
<h2>Android app - OpenTrail</h2>
<p>Freemap has an accompanying Android app, 
<a href='/common/opentrail.html'>OpenTrail</a>. With OpenTrail you can
add and share notes "in the field" on your device: these will be uploaded
to the database. Furthermore, you can record a walking route while out
walking, add notes to it, upload to Freemap and share with others.</p>
<p>Furthermore, OpenTrail features the ability to download and "play" 
existing walking routes - so you'll be able to see
walk route directions presented to you on your Android device while out
walking!</p>
<h2 id='new'>New features</h2>
<p>After a long period in which Freemap remained unchanged, a few new
features have been added in April 2017, partly inspired by the setup of the
OSM-UK group:
	<ul>
	<li>Wider range of information included on the map: in particular stiles,
	gates, field boundaries (where in OpenStreetMap), viewpoints, cafes,
	restaurants and power lines.</li>
	<li>Clickable points of interest. Selected POIs can be clicked with
	information appearing where available, such as a link to
	the website of a pub or restaurant, a link to
	a Wikipedia article, or (if available in OSM) a general
	description. Also, a link to 
	the train times for today from stations are displayed
	if you click on them, via  <a href='http://brtimes.com'>
	brtimes.com</a>.</li>
	<li>Search results now show the county or district of places found, where
	this has been added to OSM.</li>
	</ul>
</p>
<h2 id='norender'>The map isn't showing! Why?</h2>
<p>If the map doesn't show immediately, it's because the map for that
area needs to be rendered (drawn). Generating the map data from the database
takes time as this is a relatively low-spec server.
It may take some time in built-up areas. However, once an area
of map is drawn, it is cached which means that next time you visit that
area, the map will be drawn much more quickly - a second or two.</p>
<p>Also please note that from early 2012, maps have been drawn in the
browser using HTML5 technology and the
<a href='http://www.kothic.org/'>kothic-js</a> renderer.
The decision to switch to in-browser rendering has been
made as a result of the large demands of server-side rendering due to
the increased size of the OpenStreetMap database.</p>
<p>The move to in-browser rendering also means that you will need a moderately 
up-to-date browser (something released in the last 5 years or so); 
in particular, Internet Explorer versions before IE9 will not work.</p>
<h2 id='limitations'>Limitations</h2>
<p>There are some limitations with Freemap as it stands: in 
particular, due to server constraints it's restricted to England and Wales,
and it cannot currently handle certain types of OpenStreetMap data. 
The main example of this is "multipolygon
relations", which is the mechanism OSM uses to handle situations such as
lakes with islands or forests with "holes" of open land within them.
The principle effect is that, 
unfortunately, many of the larger lakes in the Lake District
are not drawn.  This is something that will hopefully be dealt with in the 
future.</p>
<p>Also, artefacts sometimes occur at tile boundaries; again I aim to 
resolve this time permitting.</p>
<h2 id='technical'>History and technical details</h2>
<h3>Freemap history</h3>
<p>Freemap basically started up in 2004 more or less
at the same time as OSM itself, but originally used its own database. My
original motivation was that I wanted to illustrate some long-distance walks
I did across England and Wales around the turn of the millennium, but found
that I could not do that with OS maps without paying expensive licencing 
fees. So I thought it might be a good idea to create my own maps based on
GPS data. Then in early 2005 I met Steve and, once a tagging scheme had been
sorted out, contributed my data to OSM;
Freemap then used OSM data for its maps, the maps still being rendered
on the Freemap server, originally using PHP/GD and later using Mapnik.</p>
<p>Eventually the larger size of the OSM database meant that server-side
rendering used up too much resources, so a decision was made in early 2012
to switch to browser-based rendering using Kothic-JS. This means maps are
a little slower to draw, but with the increasing power of desktops
and laptops in recent years this is less of a problem.</p>
</p>
<h3>Technical details</h3>
<p>Here is a description of how Freemap is maintained, should you be 
interested.</p>
<ul>
<li>A standard OSM PostGIS database is present on Freemap, containing
selected OSM data. County extracts are downloaded
from geofabrik.de, and then Osmosis is used to extract the
relevant information and osm2pgsql to import to the database. Using 
county extracts means that the memory issues of trying to
import the whole of the UK into the database at once can be avoided, so
thanks to Frederik for that!</li>
<li>A web service has been written which provides tiled OSM data as
GeoJSON (or a slightly modified version of GeoJSON, see
<a href='http://www.kothic.org/'>kothic-js</a>). On the client side, 
kothic-js parses the GeoJSON and renders it to produce a visible map, using
the <a href='style_new.mapcss'>MapCSS file here</a>.</p>
</ul>
<h3 id='source'>Source code</h3>
<p>Freemap
source code is available via github; see
<a href='https://github.com/nickw1/Freemap'>here</a>. The SVN repository is
no longer being maintained.</p>
<hr />
<p><em>Nick Whitelegg (OSM username: nickw)
<a href="mailto: freemapinfo@gmail.com">Email</a></em></p>
<hr />
<p><a href='/index.php'>Back to map</a></p>
</div>
</body>
</html>
